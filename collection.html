<!DOCTYPE html>
<html>
<head>
	<title>Collection</title>
	<link href="http://d2v52k3cl9vedd.cloudfront.net/basscss/7.0.4/basscss.min.css" rel="stylesheet">
	<style type="text/css">
		.item {
  background-color: #eee;
  padding: 10px;
  width: 200px;
  height: 200px;
  margin-bottom: 10px;
  box-sizing: border-box;
  font-family: monospace;
  color: #333;
}

.is-checked {
  background-color: #28F;
}

.isoDefault {
  min-height: 210px;
}
		
		
	</style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.25/vue.min.js"></script>
		<script src="https://npmcdn.com/isotope-layout@3.0.5/dist/isotope.pkgd.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.13.1/lodash.min.js"></script>
		<script src="https://cdn.rawgit.com/David-Desmaisons/Vue.Isotope/v2.0.1/dist/vue_isotope.js"></script>
</head>

<body class="bg-silver">

<!--
<section class="grid container masonry" id="vuegrid">

		<div v-for='game in games' class="grid-item col" data-category="cat">
			<div class="p2">
				<div class="game-blur" :style="{ 'background-image' : 'url(' + game.image + ')' }"></div>
				<div class="game-cover" :style="{ 'background-image' : 'url(' + game.image + ')' }"></div>
				<img class="product-img" v-bind:src="game.image">
				<h2 class="mt0">{{game.name}}</h2>
			</div>
		</div>
		
</section>
-->

<!--
<div id="main">
<div>
  <isotope :list="games" id="root_isotope" class="isoDefault" :options='option' >
  		<div v-for='game in games' class="grid-item col" data-category="cat" :key="game.id">
			<div class="p2">
				<img class="product-img" v-bind:src="game.image">
			</div>
		</div>
  </isotope>
</div>
-->

<div id="main">
<div>
  <div id="root_isotope" class="isoDefault">
    <div v-isotope-for="element in list" :options='option' @click="selected=element">
      {{element.name}}
      <br> {{element.id}}
    </div>
  </div>
</div>

<div id="change">
  <button @click="add">Add</button>
  <button @click="replace">Replace</button>
</div>
<div id="filter">
  <div>
    <input type="text" v-model="filterText" placeholder="no filter">
    <button :class="[filterOption==='filterByText' ? 'is-checked' : '']" @click="filter('filterByText')">Filter</button>
  </div>
  <button :class="[filterOption==='isEven' ? 'is-checked' : '']" @click="filter('isEven')">Filter Even</button>
  <button :class="[filterOption==='isOdd' ? 'is-checked' : '']" @click="filter('isOdd')">Filter Odd</button>
  <button @click="filter()">Unfilter</button>
</div>
<div id="sort">
  <button :class="[sortOption==='name' ? 'is-checked' : '']" @click="sort('name')">Sort by name</button>
  <button :class="[sortOption==='id' ? 'is-checked' : '']" @click="sort('id')">Sort by id</button>
  <button @click="shuttle">Shuttle</button>
</div>
<div>
  <div v-if="selected" class="item">
    <input type="text" name="" v-model="selected.name">
    <br>
    <input type="text" name="" v-model="selected.id">
  </div>
</div>
</div>



<script>
	
	var spreadsheetID = "1BnJNhOKiDZQCPQGDIssVnIphZgW5_4PaNFWf9XzF6XU";
	var sheeturl = "https://spreadsheets.google.com/feeds/list/" + spreadsheetID + "/od6/public/values?alt=json";
	var bggurl = "http://bgg-json.azurewebsites.net/thing/";
	var gameList = []
	
	var count = 0;
	
	var vm = new Vue({
		  el: "#main",
		  data: {
		    list: [{
		      name: "John",
		      id: 25
		    }, {
		      name: "Joao",
		      id: 7
		    }, {
		      name: "Albert",
		      id: 12
		    }, {
		      name: "Jean",
		      id: 100
		    }],
		    selected: null,
		    sortOption: null,
		    filterOption: null,
		    filterText: "",
		    option: {
		      getSortData: {
		        id: "id",
		        name: function(itemElem) {
		          return itemElem.name.toLowerCase();
		        }
		      },
		      getFilterData: {
		        isEven: function(itemElem) {
		          return itemElem.id % 2 === 0;
		        },
		        isOdd: function(itemElem) {
		          return itemElem.id % 2 !== 0;
		        },
		        filterByText: function(itemElem) {
		          return itemElem.name.toLowerCase().includes(this.filterText.toLowerCase());
		        }
		      }
		    }
		  },
		  methods: {
		    add: function() {
		      this.list.push({
		        name: 'Juan',
		        id: count++
		      });
		    },
		    replace: function() {
		      this.list = [{
		        name: 'Edgard',
		        id: count++
		      }, {
		        name: 'James',
		        id: count++
		      }]
		    },
		    sort: function(key) {
		      this.isotopeSort(key);
		      this.sortOption = key;
		    },
		    filter: function(key) {
		      if (this.filterOption == key)
		        key = null;
		      this.isotopeFilter(key);
		      this.filterOption = key;
		    },
		    shuttle: function() {
		      this.isotopeShuttle();
		      this.sortOption = null;
		    }
		  }
		});
	
/*
	var vm = new Vue({
	el: '#main',
	data:{
			games:gameList,
			layouts: [
			      "masonry",
			      "fitRows",
			      "cellsByRow",
			      "vertical",
			      "packery",
			      "masonryHorizontal",
			      "fitColumns",
			      "cellsByColumn",
			      "horiz"
			    ],
			currentLayout: 'masonry',
			selected: null,
			sortOption: "original-order",
			filterOption: "show all",
			option:
			{
				itemSelector: ".element-item",
				getSortData: { id: 'id',name: function(itemElem) {
						return itemElem.name.toLowerCase();
					} },
				sortBy : "id"
			},
			methods: {
			    sort: function(key) {
			     	this.isotopeSort(key);
				 	this.sortOption = key;
			    }
			  }
		}
    })
*/
	
	/*
$(document).ready(function(){
		
	    $.getJSON(sheeturl, function(data) {
			 var entry = data.feed.entry;
			 $(entry).each(function()
			 {
			 	var game = {image:""};
			 	game.name = this.gsx$name.$t;
			 	game.id = this.gsx$id.$t;
			 	gameList.push(game);
			 })
			 getBGGData();
	    })
		
		function getBGGData()
		{
			$.each(gameList,function(key,value)
			{
				var game = this;
				$.getJSON(bggurl+this.id,function(data){
					game.image = data.thumbnail;
					game.name = data.name;
				})
			});
		}
	})
*/
	
	
	
</script>

</body>
</html>
